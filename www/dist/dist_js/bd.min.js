angular.module('app',
  [
    'ionic',
    'templates',
    'app.welcome',
    'app.register'
  ])


//.run(function($ionicPlatform) {
  //  $ionicPlatform.ready(function() {
  //    // Hide the accessory bar by default (remove this to show the accessory bar above the keyboard
  //    // for form inputs)
  //    if (window.cordova && window.cordova.plugins && window.cordova.plugins.Keyboard) {
  //      cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);
  //      cordova.plugins.Keyboard.disableScroll(true);
  //
  //    }
  //    if (window.StatusBar) {
  //      // org.apache.cordova.statusbar required
  //      StatusBar.styleLightContent();
  //    }
  //  });
 // })

angular.module("templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("register.html","<div class=\"content\">\n  <h1>{{register.test}}</h1>\n    <!--<button class=\"button button-energized\" ng-click=\"addImage()\">-->\n      <!--Add image-->\n    <!--</button><br><br>-->\n\n      <!--<img ng-repeat=\"image in images\" ng-src=\"{{urlForImage(image)}}\" height=\"200px\"/>-->\n<form ng-submit=\"register.addUser()\">\n\n  <div class=\"list\">\n    <label class=\"item item-input item-floating-label\">\n      <span class=\"input-label\">Name</span>\n      <input type=\"text\" placeholder=\"Name\" ng-model=\"register.user.name\">\n    </label>\n    <label class=\"item item-input item-floating-label\">\n      <span class=\"input-label\">Email</span>\n      <input type=\"text\" placeholder=\"Email\" ng-model=\"register.user.email\">\n    </label>\n    <label class=\"item item-input item-floating-label\">\n      <span class=\"input-label\">Password</span>\n      <input type=\"password\" placeholder=\"Password\" ng-model=\"register.user.password\">\n    </label>\n    <label class=\"item item-input item-floating-label\">\n      <span class=\"input-label\">Age</span>\n      <input type=\"number\" placeholder=\"Age\" ng-model=\"register.user.age\">\n    </label>\n    <label class=\"item item-input item-floating-label\">\n      <span class=\"input-label\">Gender</span>\n      <input type=\"text\" placeholder=\"Gender\" ng-model=\"register.user.gender\">\n    </label>\n  </div>\n  <div class=\"padding\">\n    <button  class=\"button button-block button-positive\">Create Greatness</button>\n  </div>\n</form>\n\n</div>\n\n\n");
$templateCache.put("welcome.html","<ion-pane id=\"welcome\" class=\"welcomePane\">\n    <h1 class=\"title\">Dare to Take the first step to changing your life!!</h1>\n\n   <ion-footer-bar>\n    <a class=\"full_width button button-assertive\" ui-sref=\"register\">\n     Lets Go\n   </a>\n   </ion-footer-bar>\n\n</ion-pane>\n");}]);
(function () {
  //'use strict';

  angular.module('app')
    .config(['$stateProvider', '$urlRouterProvider', Config]);

  function Config($stateProvider, $urlRouterProvider) {

    $stateProvider

      // setup an abstract state for the tabs directive
      .state('welcome', {
        url: '/',
        controller : 'welcomeCtrl',
        templateUrl: 'welcome.html',
        controllerAs: 'welcome'
      })

      .state('register', {
        url: '/register',
        controller: 'registerCtrl as register',
        templateUrl: 'register.html',
       // controllerAs: 'register'
      })


    // if none of the above states are matched, use this as the fallback
    $urlRouterProvider.otherwise('/');
  }
}());

(function(){
  'use strict';

  angular.module('app.register', [])

    .controller('registerCtrl' ,['registerUserService', function(registerUserService){

      this.user ={};

      this.test = "Hello";

      this.addUser = function() {
        console.log(this.user);
        registerUserService.createUser(this.user);
      };
    }])

    .service('registerUserService', ['$http', function($http){
      this.createUser = function(user) {
        var data = user;
        $http({
          url: 'http://localhost:3000/user/signup',
          method: 'POST',
          data: data,
        })
          .then(function(data, status, headers, config){
            console.log('Success!');
            // called when the data is available
          },
          function(data, status, headers, config) {
            console.log('Failure :(');
            // called when an error occurs or
            // the server returns data with an error status
          });
      };
     }])

})

(function () {
  //'use strict';

  angular.module('app.welcome', [])

    .controller('welcomeCtrl' , function(){

      console.log('Hi Welcome');
    })



}());
